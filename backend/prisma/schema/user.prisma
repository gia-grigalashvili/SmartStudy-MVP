model User {
  id                 String   @id @default(uuid(7)) @db.Uuid
  email              String?  @unique
  firstName          String
  lastName           String
  fullName           String   @db.VarChar(255)
  age                Int?
  dateOfBirth        DateTime
  info               String?
  personalId         String   @unique
  needPasswordChange Boolean  @default(false)

  starredBlogs Blog[]        @relation("BlogStars")
  transactions Transaction[]
  form100s     Form100[]

  photo File?
  chat  Chat?

  phoneNumber  String @unique
  passwordHash String

  smsCode          String?
  smsCodeExpiresAt DateTime?

  isVerified Boolean @default(false)

  refreshTokens RefreshToken[]
  visits        Visit[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("users")
}

model PendingUser {
  id String @id @default(uuid(7)) @db.Uuid

  email        String?  @unique
  firstName    String
  lastName     String
  fullName     String   @db.VarChar(255)
  age          Int?
  dateOfBirth  DateTime
  personalId   String   @unique
  phoneNumber  String   @unique
  passwordHash String

  smsCode          String?
  smsCodeExpiresAt DateTime

  isVerified Boolean @default(false)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("pending_users")
}
